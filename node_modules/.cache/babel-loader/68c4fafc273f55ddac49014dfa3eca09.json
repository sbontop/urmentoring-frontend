{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/alert/style\";\nimport _Alert from \"antd/es/alert\";\nvar _jsxFileName = \"C:\\\\Users\\\\Home\\\\Desktop\\\\app-urmentoring-view\\\\src\\\\views\\\\LoginPage.js\";\nimport React from 'react';\nimport LayoutLoginPage from \"../extras/LayoutLoginPage\";\nimport RedireccionRol from '../requerimientos/RedireccionRol';\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter, Switch, NavLink } from \"react-router-dom\";\nimport PrincipalEstudiante from '../components/Estudiante/PrincipalEstudiante';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.envioCredenciales = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', values);\n          this.setState({\n            loadingSubmit: true\n          });\n          MetodosAxios.login(values).then(res => {\n            console.log(res.data);\n            RedireccionRol.redirectLogin(this.props.history, res.data.data.perfil);\n            localStorage.setItem('user', JSON.stringify(res.data.data));\n          }).catch(error => {\n            this.setState({\n              loadingSubmit: false,\n              mensajeError: error.message,\n              loginError: true\n            });\n          });\n        }\n      });\n    };\n\n    this.mostrarMensajeError = () => {\n      this.setState({\n        loginError: false\n      });\n    };\n\n    this.state = {\n      loadingSubmit: false,\n      mensajeError: undefined,\n      loginError: false\n    };\n  }\n  /*Manejar el submit del formulario*/\n\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(LayoutLoginPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.state.loginError ? React.createElement(_Alert, {\n      message: this.state.mensajeError,\n      type: \"error\",\n      closable: true,\n      afterClose: this.mostrarMensajeError,\n      showIcon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }) : null, React.createElement(_Form, {\n      onSubmit: this.envioCredenciales,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"titulo-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Autenticaci\\xF3n\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, getFieldDecorator('username', {\n      rules: [{\n        required: true,\n        message: 'Por favor ingrese su email!'\n      }]\n    })(React.createElement(_Input, {\n      prefix: React.createElement(_Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }),\n      placeholder: \"Email...\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }))), React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, getFieldDecorator('userpass', {\n      rules: [{\n        required: true,\n        message: 'Por favor ingrese su contrase√±a!'\n      }]\n    })(React.createElement(_Input, {\n      prefix: React.createElement(_Icon, {\n        type: \"lock\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }),\n      type: \"password\",\n      placeholder: \"Contrase\\xF1a...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }))), React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      loading: this.state.loadingSubmit,\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"button-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Ingresar\", React.createElement(Route, {\n      path: \"/estudiante/\",\n      component: PrincipalEstudiante,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(NavLink, {\n      to: \"/estudiante/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst WrappedLogin = _Form.create({\n  name: 'login'\n})(Login);\n\nexport default WrappedLogin;","map":{"version":3,"sources":["C:\\Users\\Home\\Desktop\\app-urmentoring-view\\src\\views\\LoginPage.js"],"names":["React","LayoutLoginPage","RedireccionRol","BrowserRouter","Router","Route","Link","Redirect","withRouter","Switch","NavLink","PrincipalEstudiante","Login","Component","constructor","props","envioCredenciales","e","preventDefault","form","validateFields","err","values","console","log","setState","loadingSubmit","MetodosAxios","login","then","res","data","redirectLogin","history","perfil","localStorage","setItem","JSON","stringify","catch","error","mensajeError","message","loginError","mostrarMensajeError","state","undefined","render","getFieldDecorator","rules","required","color","WrappedLogin","create","name"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport LayoutLoginPage from \"../extras/LayoutLoginPage\";\r\nimport { Form, Icon, Input, Button, Alert } from 'antd';\r\nimport RedireccionRol from '../requerimientos/RedireccionRol';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    withRouter,\r\n    Switch,\r\n    NavLink,\r\n} from \"react-router-dom\";\r\nimport PrincipalEstudiante from '../components/Estudiante/PrincipalEstudiante';\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadingSubmit: false,\r\n            mensajeError: undefined,\r\n            loginError: false\r\n        }\r\n    }\r\n\r\n    /*Manejar el submit del formulario*/\r\n    envioCredenciales = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                console.log('Received values of form: ', values);\r\n                this.setState({ loadingSubmit: true })\r\n                MetodosAxios.login(values)\r\n                    .then(res => {\r\n                        console.log(res.data);\r\n                        RedireccionRol.redirectLogin(this.props.history, res.data.data.perfil);\r\n                        localStorage.setItem('user', JSON.stringify(res.data.data));\r\n                    }).catch(error => {\r\n                        this.setState({\r\n                            loadingSubmit: false,\r\n                            mensajeError: error.message,\r\n                            loginError: true\r\n                        });\r\n                    });\r\n            }\r\n        });\r\n    }\r\n\r\n    mostrarMensajeError = () => {\r\n        this.setState({\r\n            loginError: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Router>\r\n                <LayoutLoginPage>\r\n                    {this.state.loginError ? <Alert message={this.state.mensajeError} type=\"error\" closable afterClose={this.mostrarMensajeError} showIcon /> : null}\r\n                    <Form onSubmit={this.envioCredenciales} className=\"login-form\">\r\n                        <br></br>\r\n                        <p className=\"titulo-login\">Autenticaci√≥n</p>\r\n                        <br></br>\r\n                        <Form.Item>\r\n                            {getFieldDecorator('username', {\r\n                                rules: [{ required: true, message: 'Por favor ingrese su email!' }],\r\n                            })(\r\n                                <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Email...\" autoComplete=\"off\" />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            {getFieldDecorator('userpass', {\r\n                                rules: [{ required: true, message: 'Por favor ingrese su contrase√±a!' }],\r\n                            })(\r\n                                <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"Contrase√±a...\" />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button \r\n                                loading={this.state.loadingSubmit} \r\n                                type=\"primary\" \r\n                                htmlType=\"submit\" \r\n                                className=\"button-login\"\r\n                            >\r\n                                Ingresar\r\n                                <Route path=\"/estudiante/\" component={PrincipalEstudiante} />\r\n                                <NavLink to=\"/estudiante/\" />\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </LayoutLoginPage>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nconst WrappedLogin = Form.create({ name: 'login' })(Login);\r\n\r\nexport default WrappedLogin;"]},"metadata":{},"sourceType":"module"}